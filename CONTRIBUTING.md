# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢ä½ è€ƒè™‘ä¸º hop-claude åšè´¡çŒ®ï¼

## ğŸš€ å¼€å‘æµç¨‹

### 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯

```bash
git checkout -b feature/your-feature-name
```

### 2. å¼€å‘å¹¶åˆ›å»º Changeset â­ **å¼ºåˆ¶æ­¥éª¤**

æ¯ä¸ªæœ‰å®é™…å˜æ›´çš„ PR éƒ½**å¿…é¡»**åŒ…å« changesetï¼š

```bash
bunx changeset
```

#### é€‰æ‹©ç‰ˆæœ¬ç±»å‹

- `major` (3.0.0 â†’ 4.0.0): ç ´åæ€§å˜æ›´ï¼Œä¸å…¼å®¹çš„ API ä¿®æ”¹
- `minor` (3.0.0 â†’ 3.1.0): æ–°åŠŸèƒ½ï¼Œå‘åå…¼å®¹
- `patch` (3.0.0 â†’ 3.0.1): Bug ä¿®å¤ï¼Œå‘åå…¼å®¹

#### ç¼–å†™å˜æ›´æè¿°

ç”¨æ¸…æ™°çš„ä¸­æ–‡æè¿°ä½ çš„æ”¹åŠ¨ï¼Œè¿™å°†å‡ºç°åœ¨ CHANGELOG ä¸­ã€‚

**ç¤ºä¾‹ï¼š**
```
ä¿®å¤äº† Commander.js å‚æ•°è§£æçš„é—®é¢˜ï¼Œç°åœ¨å‘½ä»¤è¡Œå‚æ•°å¯ä»¥æ­£ç¡®ä¼ é€’ç»™ Claude
```

### 3. æäº¤å¹¶åˆ›å»º PR

```bash
git add .
git commit -m "feat: ä½ çš„åŠŸèƒ½æè¿°"
git push origin feature/your-feature-name
```

åœ¨ GitHub ä¸Šåˆ›å»º Pull Requestã€‚

### 4. CI è‡ªåŠ¨éªŒè¯

PR ä¼šè‡ªåŠ¨è¿è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š

- âœ… Build æˆåŠŸ
- âœ… **Changeset å­˜åœ¨**

å¦‚æœç¼ºå°‘ changesetï¼ŒCI ä¼šå¤±è´¥å¹¶æç¤ºä½ åˆ›å»ºã€‚

**æç¤ºï¼š** Changeset Bot ä¼šåœ¨ä½ çš„ PR ä¸­è¯„è®ºï¼Œæä¾›å‹å¥½çš„æé†’å’Œå¿«é€Ÿæ·»åŠ æŒ‰é’®ã€‚

### ä½•æ—¶å¯ä»¥è·³è¿‡ Changesetï¼Ÿ

ä»…ä»¥ä¸‹æƒ…å†µå¯ä»¥è·³è¿‡ changesetï¼š

- åªä¿®æ”¹æ–‡æ¡£ (README.md, docs/, CLAUDE.md)
- åªä¿®æ”¹é…ç½®æ–‡ä»¶ (.gitignore, .editorconfig)
- ä¾èµ–æ›´æ–° (ç”± Dependabot åˆ›å»ºçš„ PR)

**æ–¹æ³•ï¼š** åœ¨ PR ä¸Šæ·»åŠ  `skip-changeset` æ ‡ç­¾

---

## ğŸ“¦ å‘å¸ƒæµç¨‹ï¼ˆå®Œå…¨è‡ªåŠ¨åŒ–ï¼‰

**ä½ ä¸éœ€è¦æ‰‹åŠ¨æ“ä½œä»»ä½•ä¸œè¥¿ï¼** ä¸€åˆ‡éƒ½æ˜¯è‡ªåŠ¨çš„ã€‚

### è‡ªåŠ¨å‘å¸ƒæµç¨‹

1. **PR åˆå¹¶åˆ° main** â†’ è§¦å‘è‡ªåŠ¨åŒ–
2. **Changesets Bot åˆ›å»º "Version Packages" PR**
   - è‡ªåŠ¨æ›´æ–° package.json ç‰ˆæœ¬å·
   - è‡ªåŠ¨æ›´æ–° CHANGELOG.mdï¼ˆå¸¦ PR é“¾æ¥ã€ä½œè€…ä¿¡æ¯ï¼‰
   - èšåˆæ‰€æœ‰å¾…å‘å¸ƒçš„ changesets
3. **å®¡æ ¸å¹¶åˆå¹¶ "Version Packages" PR**
4. **è‡ªåŠ¨å‘å¸ƒï¼š**
   - âœ… å‘å¸ƒåˆ° npm
   - âœ… åˆ›å»º git tag
   - âœ… åˆ›å»º GitHub Release
   - âœ… æ›´æ–°æ–‡æ¡£

### ğŸš« ä¸è¦æ‰‹åŠ¨æ“ä½œ

ä»¥ä¸‹æ“ä½œä¸å†éœ€è¦ï¼š

- âŒ æ‰‹åŠ¨ç¼–è¾‘ CHANGELOG.md
- âŒ æ‰‹åŠ¨ä¿®æ”¹ package.json version
- âŒ æ‰‹åŠ¨ git tag
- âŒ æ‰‹åŠ¨ npm publish
- âŒ æ‰‹åŠ¨åˆ›å»º GitHub Release

---

## ğŸ’¡ å¸¸è§é—®é¢˜

### Q: æˆ‘å¿˜è®°åˆ›å»º changeset äº†æ€ä¹ˆåŠï¼Ÿ

A: åœ¨æœ¬åœ°è¿è¡Œ `bunx changeset`ï¼Œç„¶å push æ–°çš„æäº¤ã€‚æˆ–è€…ä½¿ç”¨ Changeset Bot åœ¨ PR ä¸­æä¾›çš„å¿«é€Ÿæ·»åŠ æŒ‰é’®ã€‚

### Q: æˆ‘éœ€è¦ä¿®æ”¹å·²åˆ›å»ºçš„ changeset æ€ä¹ˆåŠï¼Ÿ

A: Changeset æ–‡ä»¶åœ¨ `.changeset/` ç›®å½•ä¸‹ï¼ˆä»¥ `.md` ç»“å°¾ï¼‰ï¼Œç›´æ¥ç¼–è¾‘å¯¹åº”çš„æ–‡ä»¶å³å¯ã€‚

### Q: å¦‚ä½•åŠ æ€¥å‘å¸ƒï¼Ÿ

A: åˆå¹¶ä½ çš„ PR åï¼Œç«‹å³å®¡æ ¸å¹¶åˆå¹¶ "Version Packages" PRï¼Œå‡ åˆ†é’Ÿå†…å°±ä¼šè‡ªåŠ¨å‘å¸ƒåˆ° npmã€‚

### Q: ç‰ˆæœ¬å·æ€ä¹ˆé€‰æ‹©ï¼Ÿ

A: éµå¾ª [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-CN/)ï¼š

- **Major (x.0.0)**: ç ´åæ€§å˜æ›´ï¼Œä¸å…¼å®¹çš„ API ä¿®æ”¹
  - ä¾‹ï¼šåˆ é™¤ APIã€æ”¹å˜å‡½æ•°ç­¾åã€é‡å‘½åå­—æ®µ
- **Minor (0.x.0)**: æ–°åŠŸèƒ½ï¼Œå‘åå…¼å®¹
  - ä¾‹ï¼šæ·»åŠ æ–°çš„ CLI é€‰é¡¹ã€æ–°çš„é…ç½®å­—æ®µ
- **Patch (0.0.x)**: Bug ä¿®å¤ï¼Œå‘åå…¼å®¹
  - ä¾‹ï¼šä¿®å¤å´©æºƒã€ä¿®å¤å‚æ•°è§£æé”™è¯¯

### Q: CI æ£€æŸ¥å¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ

A:
1. æŸ¥çœ‹ Actions æ ‡ç­¾é¡µçš„è¯¦ç»†æ—¥å¿—
2. å¦‚æœæ˜¯ changeset ç¼ºå¤±ï¼Œè¿è¡Œ `bunx changeset` åˆ›å»º
3. å¦‚æœæ˜¯ build å¤±è´¥ï¼Œä¿®å¤ä»£ç åé‡æ–° push

---

## ğŸ› ï¸ æœ¬åœ°å¼€å‘

### å®‰è£…ä¾èµ–

```bash
bun install
```

### è¿è¡Œå¼€å‘æ¨¡å¼

```bash
bun run dev
```

### æ„å»º

```bash
bun run build
```

### æµ‹è¯• Changeset æµç¨‹

```bash
# åˆ›å»º changeset
bunx changeset

# æŸ¥çœ‹å½“å‰çŠ¶æ€
bunx changeset status

# æœ¬åœ°é¢„è§ˆç‰ˆæœ¬æ›´æ–°ï¼ˆä¸ä¼šå®é™…ä¿®æ”¹æ–‡ä»¶ï¼‰
bunx changeset version
```

---

## ğŸ“š æ›´å¤šèµ„æº

- [Changesets å®˜æ–¹æ–‡æ¡£](https://github.com/changesets/changesets)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ](https://semver.org/lang/zh-CN/)
- [å¦‚ä½•ç¼–å†™å¥½çš„ Commit Message](https://www.conventionalcommits.org/zh-hans/)

---

æ„Ÿè°¢ä½ çš„è´¡çŒ®ï¼ğŸ‰
